# 📈 股票價格追蹤分析系統

一個功能完整的 Python 互動式股票分析工具，提供技術指標、移動平均線、布林通道與費波那契回調等功能。

## ✨ 主要功能

### 📊 技術分析工具
- **多種移動平均線**：MA10、MA20、MA50、MA60、MA200
- **布林通道**：20 期搭配 2 倍標準差
- **費波那契回調**：互動式繪圖工具，用於識別支撐/阻力位
- **成交量分析**：顏色區分的成交量柱狀圖（紅色=上漲日，綠色=下跌日）

### 🎯 互動功能
- **多股票支援**：可在單一介面中分析並切換多支股票
- **時間區間選擇**：1 個月 (1M)、3 個月 (3M)、6 個月 (6M)
- **圖例互動**：點擊圖例項目可顯示/隱藏技術指標
- **費波那契工具**：點擊兩個價格點繪製回調線
- **即時數據標註**：顯示最新價格與技術分析結果

### 📈 分析指標
- 最新價格
- 期間報酬率
- 最高/最低價格
- 平均價格
- 年化波動率
- 最大回撤
- 各 MA 線偏離程度
- 技術趨勢判斷

## 🔧 系統需求

### Python 版本
- Python 3.7 或以上

### 必要套件
```bash
pip install yfinance matplotlib pandas numpy
```

或使用 requirements.txt：
```bash
pip install -r requirements.txt
```

### requirements.txt 內容
```
yfinance>=0.2.0
matplotlib>=3.5.0
pandas>=1.3.0
numpy>=1.21.0
```

## 🚀 使用方法

### 1. 基本執行
```bash
python stock-price-track.py
```

### 2. 輸入股票代碼
程式啟動後，輸入要分析的美股代碼（以逗號分隔）：
```
Enter US stock symbols separated by comma (e.g., AAPL,MSFT,TSLA): AAPL,TSLA,NVDA
```

### 3. 等待數據下載與分析
程式會自動：
- 下載 15 個月的歷史數據
- 計算所有技術指標
- 顯示統計分析結果
- 生成互動式圖表

## 📖 操作指南

### 時間區間切換
點擊左側的時間按鈕：
- **1M**：顯示近 1 個月數據
- **3M**：顯示近 3 個月數據
- **6M**：顯示近 6 個月數據（預設）

### 股票切換
- 點擊頂部的股票代碼按鈕切換不同股票
- 每支股票的技術指標設定獨立保存

### 技術指標顯示/隱藏
1. 點擊左上角圖例中的指標名稱
2. 指標線條會切換顯示/隱藏狀態
3. 布林通道上下軌會同步切換

### 費波那契回調工具
1. 點擊圖例中的 **「[Fib] Fibonacci Tool」**
2. 在圖表上點擊第一個點（高點或低點）
3. 移動滑鼠預覽回調線位置
4. 點擊第二個點確認繪製
5. 按 **ESC** 鍵可取消操作或清除已繪製的線條

### 費波那契關鍵比例
- **0%** / **100%**：起始與結束點
- **23.6%**：短期回調支撐/阻力
- **38.2%**：中期回調水平
- **50%**：心理關鍵位
- **61.8%** ⭐：**黃金比例**（最重要支撐/阻力）
- **78.6%**：深度回調水平

## 📊 輸出資訊說明

### 終端機輸出
```
[Results] AAPL Analysis Results:
   Latest Price: $178.25
   6-Month Return: +12.34%
   Average Price: $165.50
   Period High: $182.50
   Period Low: $150.25
   Price Range: 21.5%
   Annualized Volatility: 28.5%
   Maximum Drawdown: -8.2%

[MA Values] Moving Averages (Latest Values):
   MA10: $176.50 (+1.0% from current)
   MA20: $175.20 (+1.7% from current)
   MA50: $170.80 (+4.4% from current)
   Technical Trend: [+] Neutral-Bullish
```

### 趨勢判斷標準
- **[++] Strong**：價格遠高於 MA20（>2%）
- **[+] Neutral-Bullish**：價格略高於 MA20（0-2%）
- **[-] Neutral-Bearish**：價格略低於 MA20（0-2%）
- **[--] Weak**：價格遠低於 MA20（<-2%）

## 🎨 圖表元素說明

### 價格圖（上半部）
- **深色實線**：收盤價
- **彩色虛線**：各期移動平均線
- **粉紅色虛線**：布林通道上下軌
- **黃色標註**：最新價格標記
- **水平彩色線**：費波那契回調水平

### 成交量圖（下半部）
- **紅色柱狀**：當日上漲
- **綠色柱狀**：當日下跌
- **Y 軸單位**：M (百萬) 或 K (千)

## ⚠️ 注意事項

1. **網路連線**：需要穩定的網路連線以下載股票數據
2. **股票代碼**：請使用正確的美股代碼（如 AAPL、TSLA、NVDA）
3. **數據延遲**：使用 Yahoo Finance 免費數據，可能有輕微延遲
4. **計算時間**：首次載入需要下載數據，請耐心等候
5. **記憶體使用**：同時分析多支股票會增加記憶體使用量

## 🐛 常見問題

### Q1: 找不到股票數據
**A:** 請確認：
- 股票代碼正確（需為美股代碼）
- 網路連線正常
- Yahoo Finance 服務可用

### Q2: 圖表無法顯示
**A:** 請確認：
- 已安裝 matplotlib
- 系統支援 GUI 視窗顯示
- 沒有其他程式佔用視窗

### Q3: 費波那契工具無法使用
**A:** 操作步驟：
1. 先點擊圖例中的「Fibonacci Tool」
2. 等待提示訊息出現
3. 在圖表上點擊兩個價格點
4. 按 ESC 可取消或清除

### Q4: 移動平均線未顯示
**A:** 可能原因：
- 數據點數不足（MA200 需要至少 200 天數據）
- 已被手動隱藏（點擊圖例可重新顯示）

## 📝 授權資訊

本專案僅供教育與個人研究使用。股票投資有風險，本工具提供的資訊不構成投資建議。

## 🔄 更新日誌

### v1.0.0
- ✅ 支援多股票分析
- ✅ 整合技術指標（MA、布林通道）
- ✅ 費波那契回調工具
- ✅ 互動式圖例控制
- ✅ 時間區間選擇功能
- ✅ 成交量分析
- ✅ 完整統計數據輸出

## 💡 使用技巧

1. **快速比較**：同時輸入多支股票，使用頂部按鈕快速切換比較
2. **短期分析**：切換至 1M 檢視，觀察近期價格波動
3. **長期趨勢**：使用 6M 檢視搭配 MA50/MA200 判斷長期趨勢
4. **支撐阻力**：使用費波那契工具標記關鍵價格水平
5. **波動評估**：觀察布林通道寬度判斷市場波動程度

---

**開發者提示**：本工具使用 `yfinance` 免費 API，請遵守使用條款，避免過度頻繁請求。